apiVersion: infinispan.org/v2alpha1
kind: Cache
metadata:
  name: oaas-class
spec:
  clusterName: oaas-infinispan
  name: OaasClass
  template: |
    replicatedCache:
      encoding:
        key:
          mediaType: application/x-protostream
        value:
          mediaType: application/x-protostream
      locking:
        acquireTimeout: "15000"
        concurrencyLevel: "1000"
        striping: "false"
      memory:
        maxSize: "256000000"
        storage: HEAP
      mode: SYNC
      partitionHandling:
        mergePolicy: PREFERRED_NON_NULL
        whenSplit: ALLOW_READ_WRITES
      persistence:
        fileStore:
          fetchState: "true"
          preload: "false"
          purge: "false"
          shared: "false"
        passivation: "false"
      remoteTimeout: "17500"
      stateTransfer:
        timeout: "300000"
      statistics: "true"
