---
openapi: 3.0.3
info:
  title: task-manager API
  version: 0.2.0-SNAPSHOT
servers:
- url: http://localhost:8080
  description: Auto generated value
- url: http://0.0.0.0:8080
  description: Auto generated value
paths:
  /ce:
    post:
      tags:
      - Cloud Event Handling Resource
      requestBody:
        content:
          application/json:
            schema:
              format: binary
              type: string
      responses:
        "200":
          description: OK
          content:
            application/json: {}
  /oal:
    post:
      tags:
      - Oal Resource
      parameters:
      - name: async
        in: query
        schema:
          type: boolean
      - name: timeout
        in: query
        schema:
          format: int32
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ObjectAccessLanguage'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OalResponse_Public'
  /oal/-/{filePath}:
    post:
      tags:
      - Oal Resource
      parameters:
      - name: filePath
        in: path
        required: true
        schema:
          pattern: .*
          type: string
      - name: async
        in: query
        schema:
          type: boolean
      - name: timeout
        in: query
        schema:
          format: int32
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ObjectAccessLanguage'
      responses:
        "200":
          description: OK
          content:
            application/json: {}
  /oal/{oal}:
    get:
      tags:
      - Oal Resource
      parameters:
      - name: oal
        in: path
        required: true
        schema:
          type: string
      - name: async
        in: query
        schema:
          type: boolean
      - name: timeout
        in: query
        schema:
          format: int32
          type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OalResponse_Public'
  /oal/{oal}/{filePath}:
    get:
      tags:
      - Oal Resource
      parameters:
      - name: filePath
        in: path
        required: true
        schema:
          pattern: .*
          type: string
      - name: oal
        in: path
        required: true
        schema:
          type: string
      - name: async
        in: query
        schema:
          type: boolean
      - name: timeout
        in: query
        schema:
          format: int32
          type: integer
      responses:
        "200":
          description: OK
          content:
            application/json: {}
components:
  schemas:
    JsonNodeType_Public:
      enum:
      - ARRAY
      - BINARY
      - BOOLEAN
      - MISSING
      - "NULL"
      - NUMBER
      - OBJECT
      - POJO
      - STRING
      type: string
    JsonNode_Public:
      type: object
      properties:
        empty:
          type: boolean
        valueNode:
          type: boolean
        containerNode:
          type: boolean
        missingNode:
          type: boolean
        array:
          type: boolean
        object:
          type: boolean
        nodeType:
          $ref: '#/components/schemas/JsonNodeType_Public'
        pojo:
          type: boolean
        number:
          type: boolean
        integralNumber:
          type: boolean
        floatingPointNumber:
          type: boolean
        short:
          type: boolean
        int:
          type: boolean
        long:
          type: boolean
        float:
          type: boolean
        double:
          type: boolean
        bigDecimal:
          type: boolean
        bigInteger:
          type: boolean
        textual:
          type: boolean
        boolean:
          type: boolean
        "null":
          type: boolean
        binary:
          type: boolean
    KeyAccessModifier_Public:
      enum:
      - PUBLIC
      - DEP
      - INTERNAL
      - PRIVATE
      type: string
    OaasObjectState_Public:
      type: object
      properties:
        overrideUrls:
          type: object
          additionalProperties:
            type: string
        verIds:
          type: object
          additionalProperties:
            type: string
    OaasObject_Public:
      type: object
      properties:
        id:
          type: string
        origin:
          $ref: '#/components/schemas/ObjectOrigin_Public'
        cls:
          type: string
        labels:
          uniqueItems: true
          type: array
          items:
            type: string
        state:
          $ref: '#/components/schemas/OaasObjectState_Public'
        refs:
          uniqueItems: true
          type: array
          items:
            $ref: '#/components/schemas/ObjectReference_Public'
        status:
          $ref: '#/components/schemas/ObjectStatus_Public'
        streamInfo:
          $ref: '#/components/schemas/StreamInfo_Public'
        data:
          $ref: '#/components/schemas/ObjectNode_Public'
        key:
          type: string
        rev:
          type: string
    OalResponse_Public:
      type: object
      properties:
        target:
          $ref: '#/components/schemas/OaasObject_Public'
        output:
          $ref: '#/components/schemas/OaasObject_Public'
        invId:
          type: string
        fbName:
          type: string
        macroIds:
          type: object
          additionalProperties:
            type: string
        async:
          type: boolean
    ObjectAccessLanguage:
      type: object
      properties:
        target:
          type: string
        targetCls:
          type: string
        functionName:
          type: string
        args:
          type: object
          additionalProperties:
            type: string
        inputs:
          type: array
          items:
            type: string
    ObjectNode_Public:
      type: array
      items:
        $ref: '#/components/schemas/JsonNode_Public'
    ObjectOrigin_Public:
      type: object
      properties:
        parentId:
          type: string
        fbName:
          type: string
        args:
          type: object
          additionalProperties:
            type: string
        inputs:
          type: array
          items:
            type: string
    ObjectReference_Public:
      type: object
      properties:
        name:
          type: string
        objId:
          type: string
        access:
          $ref: '#/components/schemas/KeyAccessModifier_Public'
    ObjectStatus_Public:
      type: object
      properties:
        taskStatus:
          $ref: '#/components/schemas/TaskStatus_Public'
        crtTs:
          format: int64
          type: integer
        queTs:
          format: int64
          type: integer
        smtTs:
          format: int64
          type: integer
        cptTs:
          format: int64
          type: integer
        waitFor:
          type: array
          items:
            type: string
        errorMsg:
          type: string
        updatedOffset:
          format: int64
          type: integer
        vId:
          type: string
    StreamInfo_Public:
      type: object
      properties:
        count:
          format: int32
          type: integer
    TaskStatus_Public:
      enum:
      - LAZY
      - DOING
      - SUCCEEDED
      - FAILED
      - DEPENDENCY_FAILED
      - READY
      type: string
  securitySchemes:
    SecurityScheme:
      type: http
      description: Authentication
      scheme: basic
